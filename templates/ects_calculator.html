{% include 'header.html' %}

<div class="container-fluid ects-workload-hero py-5">
    <div class="container py-3">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <h1 class="ects-title fw-bold mb-3">ECTS Workload Calculator</h1>
                <p class="ects-lead mb-2">
                    Calculate ECTS credits for Germany based on your lecture and self-study hours!
                </p>
                <div class="d-flex justify-content-center">
                  <div class="ects-formula my-3">
                      <span class="d-block mb-2"><b>Formula (Germany):</b></span>
                      <code class="highlighted-formula">
                          ECTS = (Lecture Hours/Week + Self-Study Hours/Week) × Number of Weeks ÷ 30
                      </code>
                  </div>
                </div>
                <div class="text-muted small mb-2">
                    <b>Note:</b> In Germany, <b>1 ECTS = 30 hours</b> of total workload.
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card shadow ects-workload-box p-4">
                <h4 class="fw-bold mb-3 text-center">ECTS Credit Calculator (Workload Method)</h4>
                <form method="POST" action="{{ url_for('ects_calculator') }}">
                    <div class="mb-3">
                        <label for="lecture_hours" class="form-label">Lecture Hours per Week</label>
                        <input type="number" step="any" class="form-control" id="lecture_hours" name="lecture_hours"
                               value="{{ lecture_hours or '' }}" placeholder="e.g., 2" required>
                    </div>
                    <div class="mb-3">
                        <label for="self_study_hours" class="form-label">Self-Study Hours per Week</label>
                        <input type="number" step="any" class="form-control" id="self_study_hours" name="self_study_hours"
                               value="{{ self_study_hours or '' }}" placeholder="e.g., 4" required>
                    </div>
                    <div class="mb-3">
                        <label for="weeks" class="form-label">Number of Weeks/Semester</label>
                        <input type="number" step="any" class="form-control" id="weeks" name="weeks"
                               value="{{ weeks or '' }}" placeholder="e.g., 15" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Calculate ECTS</button>
                </form>
                {% if ects is not none %}
                  <div id="resultBox" class="alert alert-success mt-4 text-center">
                    <span class="fw-bold">ECTS Credits:</span>
                    <span style="font-size:1.45rem;">{{ ects }}</span>
                  </div>
                {% elif error %}
                  <div id="resultBox" class="alert alert-danger mt-4 text-center">
                    {{ error }}
                  </div>
                {% endif %}
            </div>
            <div class="alert alert-info mt-3 small">
                <b>Example:</b> 2 (lecture) + 4 (self-study) × 15 weeks ÷ 30 = <b>3 ECTS</b>
            </div>
            <div class="alert alert-warning mt-2 small">
                <b>Reminder:</b> Always check with your university for official conversion!
            </div>
        </div>
    </div>
</div>

{% if ects is not none or error %}
<script>
  window.onload = function() {
    var result = document.getElementById("resultBox");
    if (result) {
      result.scrollIntoView({ behavior: "smooth", block: "center" });
    }
  };
</script>
{% endif %}


{% include 'form.html' %}
{% include 'footer.html' %}